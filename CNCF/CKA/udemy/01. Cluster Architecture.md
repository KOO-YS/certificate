# Cluster Architecture

> Kubernetes Architecture

### 쿠버네티스의 목적
- 응용프로그램을 컨테이너 형식으로 호스팅
- 자동화된 방식
- 응용 프로그램 내 다양한 통신이 쉽게 가능


### 화물선에 비교한 쿠버네티스
- Master Node 
    - 적재 방법을 계획하고, 선박을 식별하고, 컨테이너 위치를 감시 추적 감시하는 역할의 관제선
    - etcd : 어떤 컨테이너가 어느 배에 몇시에 적재될 지 정보를 가진다 (고가용 키값 스토어)
    - kube scheduler : 컨테이너를 설치하기 위해 올바른 노드를 식별 (컨테이너 리소스 요구사항, 노드 용량, 정책, 테인트 등등..)
    - Controller Manager
        - Node Controller : 노드 관리. 새 노드를 클러스터에 온보딩하고 노드가 사용불가능하거나 파괴되는 상황을 처리
        - Replication Controller : 원하는 컨테이너의 수가 복제그룹에서 항상 실행되도록 보장
    - kube-apiserver : 서버나 클러스터 내에서 모든 작업을 오케스트레이션. 외부 사용자가 클러스터의 관리 작업을 수행할 수 있도록 인터페이스 제공 

- Worker Nodes : 클러스터의 작업자 노드. 컨테이너를 로딩할 수 있다
    - kubelet : 선박의 선장 역할. 클러스터의 각 노드에서 실행되는 에이전트. kube apiserver의 지시를 듣고 노드에서 컨테이너를 배포하거나 파괴
    - kube proxy : 작업자 노드간의 통신. 쿠버네티스 위에 실행되는 컨테이너가 서로 닿을 수 있도록 함