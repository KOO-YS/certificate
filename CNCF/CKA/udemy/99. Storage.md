# Docker Storage

### Docker Storage의 플러그인 종류
- Storage Drivers    
- Volume Drivers

### Docker가 로컬 파일 시스템에 데이터를 저장하는 방법

1. 로컬에 도커를 설치하면 `/var/lib/docker`에 생성
    - 기본값으로 모든 데이터를 저장하는 공간
        - 데이터 : 도커에서 실행되는 이미지 및 컨테이너와 관련된 파일
    - 하위 폴더로는 aufs, containers, image, volumes 등이 있다


### Layered Architecture
- 베이스 우분투, 패키지 설치, 종속성 설치, 응용프로그램 소스코드, 진입점 등이 각각 레이어가 된다
- 이미 실행된 도커 파일의 레이어를 저장해둠으로써, 이미지를 더 빨리 만들고 디스크 공간을 효율적으로 절약한다
- 응용 프로그램을 업데이트하는 경우에도 적용 가능
- 도커 빌드가 완료되면 수정이 불가능하고 읽기 전용이 된다
- 도커 실행(run) 명령어를 실행한다면 빌드된 이미지 기반 컨테이너를 만들고 이미지 레이어 상단에 쓰기 가능한 레이어를 하나 생성 -> 컨테이너에 의해 생성된 데이터를 저장하는 데 사용
    - 응용 프로그램이 작성한 로그파일이나 컨테이너에 의해 생성된 임시 파일, 사용자가 수정한 파일
    - 단, 도커 실행이 종료되면 그 안에 저장된 모든 변경사항 역시 사라진다