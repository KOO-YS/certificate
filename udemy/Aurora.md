# Aurora

- AWS의 독점 기술
- 오픈소스가 아니지만 MySQL, PostgreSQL과 호환된다
    - 두 DB들과 Aurora의 호환 드라이버가 있다
- 클라우드에 최적화되어 잇으며 고성능
    - MySQL의 5배
    - PostgreSQL의 3배
- 스토리지는 자동으로 커진다
    - 10GB로 시작해서 최대 128TB까지 자동으로 커진다
    - 직접 디스크를 모니터링 하지 않더라도 시간에 따라 자동으로 커진다
- 15개의 읽기 전용 레플리카를 가지며 (MySQL은 5개) 복제 속도가 훨씬 빠르다
- 장애 조치가 빠르다
- 비용이 RDS보다 20% 더 높지만 효율면에서 규모가 클 경우 절약 가능

<br>

## Aurora High Availability and Read Scaling

고가용성 및 읽기 스케일링

- 쓰기 요청을 할 때마다 6개의 데이터 복제본을 3개의 가용영역에 저장
    - 쓰기 : 4/6개가 복제
    - 읽기 : 3/6개가 복제
    - 자가 복구 가능 → 어떤 데이터가 손상될 경우 p2p 복제
    - 수백 개의 볼륨에 의지
- Aurora 하나의 인스턴스에서만 쓰기 가능
- 마스터가 작동하지 않으면 30초 이내에 장애 조치 실행
- 마스터 + 15개 읽기 전용 복제를 가질 수 있다
- 리전 간 복제를 지원

<br>


### Aurora DB Cluster

주로 클라이언트가 있을 때, 인스턴스 끼리 공유 방법

- 마스터가 유일하게 쓰기 기능을 할 수 있기 때문에 Writer 엔트포인트를 제공받는다
    - Writer Endpoint(DNS 이름)는 항상 마스터를 가리킨다
    - 읽기 전용 복제는 오토 스케일링이 가능 (최대 15개)
    - **오토 스케일링 중에는 애플리케이션이 복제본의 위치/URL을 어떻게 찾을까?**
        - Reader EndPoint
            - Writer 엔트포인트와 기능이 동일
            - 로드 밸런싱 연결을 도움
            - 모든 읽기 전용 복제본에 자동 연결

<br>


### Aurora 특징

- 자동 장애 복구
- 백업과 복구
- 독립적이면서 안전
- 산업 규정 준수 (Industry compliance)
- 푸시 버튼식 스케일링
- 다운타임 없는 자동 패치
- 향상된 모니터링
- 정기 유지 보수 (Routine Maintenance)
- 백트랙 (백업을 이용해 어떤 시간이던 데이터를 복구)

<br>


### Aurora 보안

- 다른 RDS 처럼 KMS  사용
- 자동 백업, 스냅샷, 복제본 암호화
- SSL을 통해 전송 중 암호화
- RDS 같이 IAM 사용
- 전부 RDS 보안과 동일하다