# AWS RDS

- SQL을 쿼리 언어로 사용하는 관계형 데이터 베이스 서비스
- AWS에서 관리되는 클라우드 데이터베이스
    - Postgres
    - MySQL
    - MariaDB
    - Oracle
    - Microsoft SQL Server
    - Aurora (AWS proprietary database : AWS가 소유권을 가진 DB)


- **EC2 인스턴스 상에 자체 데이터베이스를 배포하지 않고 RDS를 사용하는 이유는?**
    - 데이터베이스 뿐만 아니라 여러 기타 서비스도 제공하기 때문
        - 데이터베이스 프로비저닝 자동화, OS 패치
        - 지속적인 백업, 특정 타임스탬프로 복구 → 지정시간 복구 (PITR : Point In Time Restore)
        - 모니터링 대시보드
        - 읽기 성능 향상을 목적으로 하는 리플리카
        - 다중 AZ 설정 (재해 복구)
        - 업그레이드를 위한 유지보수
        - EBS를 기반 스토리지
    - RDS 인스턴스는 SSH 접근이 불가

<br>

**RDS 백업**

- 백업 : RDS에서 자동으로  활성화 & 자동 생성
- 정의해 놓은 유지관리 기간 동안 매일 전체 백업
- 매 5분마다 트랜잭션 로그가 RDS에 백업
→ 어떠한 지정 시점으로든 데이터베이스를 복원할 수 있다

- 자동백업은 기본적으로 7일 보관 최대 35일까지 보관 기간 설정 가능

**RDS - Storage Auto Scaling**

- RDS 데이터베이스를 생성할 때는 원하는 스토리지 용량을 지정해야 한다
- 사용 가능한 공간이 부족해지는 경우 스토리지 오토 스케일링이 활성화되어 있다면 RDS가 자동으로 스토리지에 대한 스케일링을 수행
- 스토리지 확장을 위해 데이터베이스를 중단하는 작업을 따로 수행할 필요가 없다
- 최대 스토리지 임계값(Maximum Storage Threshold)을 설정해야 한다
    - 무제한 확장이 불가능하기 때문
- 스토리지 수정
    - 사용 가능한 스토리지가 할당된 스토리지의 10% 미만으로 떨어지거나
    - 이처럼 낮은 스토리지 상태가 5분 이상 지속
    - 6시간 이상 지났을 경우 자동으로 스토리지 수정